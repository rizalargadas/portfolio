{% extends "core/base.html" %}
{% block title %}Projects{% endblock title %}
{% block content %}
<section class='px-10 md:px-24 py-10 md:py-24'>
    <div class="text-center">
        <h1 class="text-3xl md:text-4xl font-bold"><span class="uppercase">Projects</span></h1>
        {% if user.is_authenticated %}<a href="{% url 'add_project' %}" class="inline-block w-fit mt-10 py-3 px-8 bg-emerald-600 hover:bg-dimmest-gray text-gray-100 font-medium rounded drop-shadow-md"><span class='uppercase'>Add Project</span></a>{% endif %}
        
        <p class="mt-10">Check out some of the projects I've built to practice and expand my coding skills.</p>
    </div>
    {% for project in page_obj %}
        <div class='lg:w-[80%] mx-auto flex flex-col md:flex-row md:justify-between mt-10 md:mt-20'>        
            <div class="md:w-[47%]">
                <img src="{{ project.project_image.url }}" alt="{{project.title}} Preview Image">
            </div>
            <div class="mt-10 md:mt-0 md:w-[47%] flex flex-col md:justify-center">
                <h3 class='text-2xl md:text-3xl font-bold'>{{project.title}}</h3>
                <p class='mt-10'>{{project.overview}}</p>
                <a href="{% url 'project' project.id %}" class="inline-block w-fit mt-10 py-3 px-8 bg-emerald-600 hover:bg-dimmest-gray text-gray-100 font-medium rounded drop-shadow-md"><span class='uppercase'>View Details</span></a>
            </div>       
        </div>
    {% endfor %}

    <div class="md:w-[60%] flex justify-between mx-auto mt-10 font-semibold">
        {% if page_obj.has_previous %}
        <div>
            <a href="?page=1">« First</a>
            <a href="?page={{page_obj.previous_page_number}}">Previous</a>
        </div>           
        {% endif %}

        <div>
            Page {{page_obj.number}} of {{page_obj.paginator.num_pages}}
        </div>

        {% if page_obj.has_next %}
        <div>           
            <a href="?page={{page_obj.next_page_number}}">Next</a>
            <a href="?page={{page_obj.paginator.num_pages}}">Last »</a>
        </div>           
        {% endif %}

    </div>
</section>
{% endblock content %}